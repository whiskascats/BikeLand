import{_ as d}from"./sidebar-4adfb49e.js";import{u as _,s as v,r as m,o as f,a as g,W as p,d as h,b as k,c as C}from"./index-c90d5c55.js";const D={__name:"BikeRoute",setup(L){const n=_(),{userLocation:e,searchParams:u,cityDataList:l}=v(n),o=m([]);f(async()=>{if(g(),e.value.length>0){const a=await n.getUserCityName(e.value[0],e.value[1]);if("city"in a||"county"in a){const t=l.value.find(s=>s.city_name==a.city||s.city_name==a.county);t&&(c(t.city_value),u.value.city=t.city_value)}}});const c=async a=>{const t=await n.getBikeRouteData(a);t.map(s=>{const r=new p.Wkt;r.read(s.Geometry);let i=r.toJson().coordinates[0][0].reverse();s.distance=h(e.value[0],e.value[1],i[0],i[1])}),o.value=t},y=()=>{};return(a,t)=>(k(),C(d,{cardList:o.value,tab:"0",onChangeCity:c,onChangeTab:y},null,8,["cardList"]))}};export{D as default};
